{"title":"【LeetCode】Two Sum","date":"2018-08-11T16:03:44.000Z","slug":"【LeetCode】Two-Sum","tags":["Java","算法"],"categories":["LeetCode"],"updated":"2018-08-11T16:07:36.880Z","content":"<p>Given an array of integers, return indices of the two numbers such that they add up to a specific target.</p>\n<p>You may assume that each input would have exactly one solution, and you may not use the same element twice.</p>\n<p><code>Example:</code><br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Given nums = [<span class=\"number\">2</span>, <span class=\"number\">7</span>, <span class=\"number\">11</span>, <span class=\"number\">15</span>], target = <span class=\"number\">9</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">Because nums[<span class=\"number\">0</span>] + nums[<span class=\"number\">1</span>] = <span class=\"number\">2</span> + <span class=\"number\">7</span> = <span class=\"number\">9</span>,</span><br><span class=\"line\"><span class=\"keyword\">return</span> [<span class=\"number\">0</span>, <span class=\"number\">1</span>].</span><br></pre></td></tr></table></figure></p>\n<hr>\n<ul>\n<li><h3 id=\"解析一：\"><a href=\"#解析一：\" class=\"headerlink\" title=\"解析一：\"></a>解析一：</h3><blockquote>\n<p>这道题目是求解从数组中获取两个值，使得两个值的和与目标值相等.最直接的方式是采用暴力法，循环遍历两次数组，先锁定一个值，然后从数组中选取目标值与已选中值的差。如何匹配直接返回结果，不匹配则重选锁定新值，依次循环。</p>\n</blockquote>\n</li>\n<li><h3 id=\"代码：\"><a href=\"#代码：\" class=\"headerlink\" title=\"代码：\"></a>代码：</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span>[] twoSum(<span class=\"keyword\">int</span>[] nums, <span class=\"keyword\">int</span> target) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> j = i + <span class=\"number\">1</span>; j &lt; nums.length; j++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (nums[j] == target - nums[i]) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[] &#123; i, j &#125;;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[]&#123;&#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"解析二：\"><a href=\"#解析二：\" class=\"headerlink\" title=\"解析二：\"></a>解析二：</h3><blockquote>\n<p>采用HashMap，使用一个HashMap来建立一种映射关系：K 存储的是第二个需要匹配的数,V 第一个值的下标索引。循环检测Map中是否包含这个数，如果包含证明找到了结果，直接返回。</p>\n</blockquote>\n<h3 id=\"代码：-1\"><a href=\"#代码：-1\" class=\"headerlink\" title=\"代码：\"></a>代码：</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">int</span>[] twoSum(<span class=\"keyword\">int</span>[] nums, <span class=\"keyword\">int</span> target) &#123;</span><br><span class=\"line\">     Map&lt;Integer,Integer&gt; map = <span class=\"keyword\">new</span> HashMap&lt;&gt;();</span><br><span class=\"line\">     <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">0</span> ; i&lt;nums.length;i++) &#123;</span><br><span class=\"line\">       <span class=\"keyword\">int</span> sub = target - nums[i];</span><br><span class=\"line\">       <span class=\"keyword\">if</span>(map.containsKey(nums[i])) &#123;</span><br><span class=\"line\">         <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[] &#123;i,map.get(nums[i])&#125;;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       map.put(sub, i);</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[]&#123;<span class=\"number\">0</span>,<span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"解析三：\"><a href=\"#解析三：\" class=\"headerlink\" title=\"解析三：\"></a>解析三：</h3><blockquote>\n<p>这道题可是使用双指针的方式来解答，不过此方法比较麻烦。</p>\n</blockquote>\n<blockquote>\n<p>我们需要维护两个数组，第一个是原数组，目的是保证索引，还要clone一个原数组，对clone的数组排序，然后开始建立双指针，一个从前往后扫描，一个从后往前扫描，将两者相加，小于目标值Left指针右移，大于目标值right指针左移，遇见相等的情况，需要记录下这两个值，然后两者同时移动，或者break掉。</p>\n</blockquote>\n<blockquote>\n<p>然后从原来的数组中循环比较，获取原始数组中的索引下标。最后对结果数组排序即可。</p>\n</blockquote>\n<h3 id=\"代码：-2\"><a href=\"#代码：-2\" class=\"headerlink\" title=\"代码：\"></a>代码：</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span>  <span class=\"keyword\">static</span> <span class=\"keyword\">int</span>[] towSum2(<span class=\"keyword\">int</span>[] nums,<span class=\"keyword\">int</span> target) &#123;</span><br><span class=\"line\">\t\t <span class=\"keyword\">int</span>[] temp = nums.clone();</span><br><span class=\"line\">\t\t Arrays.sort(nums);</span><br><span class=\"line\">\t\t <span class=\"keyword\">int</span>[] result = &#123;-<span class=\"number\">1</span>,-<span class=\"number\">1</span>&#125;;</span><br><span class=\"line\">\t\t <span class=\"keyword\">int</span> left = <span class=\"number\">0</span>,</span><br><span class=\"line\">\t\t\t right = nums.length-<span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t <span class=\"keyword\">int</span> tempA = <span class=\"number\">0</span>,tempB = <span class=\"number\">0</span>;</span><br><span class=\"line\">\t\t <span class=\"keyword\">while</span>(left &lt; right) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(nums[left] + nums[right] == target) &#123;</span><br><span class=\"line\">\t\t\t\ttempA = nums[left];</span><br><span class=\"line\">\t\t\t\ttempB = nums[right];</span><br><span class=\"line\">\t\t\t\tleft++;</span><br><span class=\"line\">\t\t\t\tright--;</span><br><span class=\"line\">\t\t\t&#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(nums[left] + nums[right] &lt; target) &#123;</span><br><span class=\"line\">\t\t\t\tleft++;</span><br><span class=\"line\">\t\t\t&#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\t\tright--;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">0</span>;i&lt;nums.length;i++) &#123;</span><br><span class=\"line\">\t\t\t <span class=\"keyword\">if</span>(temp[i] == tempA) &#123;</span><br><span class=\"line\">\t\t\t\t result[<span class=\"number\">0</span>] = i;</span><br><span class=\"line\">\t\t\t\t <span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t &#125;</span><br><span class=\"line\">\t\t &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t <span class=\"keyword\">if</span>(tempA!=tempB) &#123;</span><br><span class=\"line\">\t\t\t <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">0</span>;i&lt;nums.length;i++) &#123;</span><br><span class=\"line\">\t\t\t\t <span class=\"keyword\">if</span>(temp[i] == tempB) &#123;</span><br><span class=\"line\">\t\t\t\t\t result[<span class=\"number\">1</span>] = i;</span><br><span class=\"line\">\t\t\t\t\t <span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t\t &#125;</span><br><span class=\"line\">\t\t\t &#125;</span><br><span class=\"line\">\t\t &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\t <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">0</span>;i&lt;nums.length;i++) &#123;</span><br><span class=\"line\">\t\t\t\t <span class=\"keyword\">if</span>(temp[i] == tempB &amp;&amp; i!=result[<span class=\"number\">0</span>]) &#123;</span><br><span class=\"line\">\t\t\t\t\t result[<span class=\"number\">1</span>] = i;</span><br><span class=\"line\">\t\t\t\t\t <span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t\t &#125;</span><br><span class=\"line\">\t\t\t &#125;</span><br><span class=\"line\">\t\t &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tArrays.sort(result);</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> result;</span><br><span class=\"line\">\t &#125;</span><br></pre></td></tr></table></figure>\n","prev":{"title":"使用cglib来检测数据库连接释放情况","slug":"使用cglib来检测数据库连接释放情况"},"link":"https://easyhaloo.github.io/post/【LeetCode】Two-Sum/","copyright":true}